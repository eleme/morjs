# å¤æ‚å°ç¨‹åºé›†æˆ

## èƒŒæ™¯

ä» 2017 å¹´å¾®ä¿¡å°ç¨‹åºå‘å¸ƒå¼€å§‹ï¼Œéšç€å°ç¨‹åºçš„é€æ­¥å‘å±•ã€è¿­ä»£å’Œå¤§é‡åŠŸèƒ½çš„å¼€å‘ï¼Œå°ç¨‹åºå·¨å¤§åŒ–çš„é—®é¢˜è¶Šæ¥è¶Šçªå‡ºã€‚è™½ç„¶å°ç¨‹åºå¹³å°æ–¹æä¾›äº†åˆ†åŒ…ã€æ’ä»¶ä¸¤ç§æ–¹å¼æ¥å¸®åŠ©å°ç¨‹åºå¼€å‘è€…æ¥å®ç°ä»£ç å’ŒåŠŸèƒ½çš„è§£è€¦ã€‚ç„¶è€Œåœ¨å®é™…çš„å®è·µä¸­ï¼Œéšç€åŒä¸€ä¸ªå°ç¨‹åºä¸­çš„ä¸åŒçš„ä¸šåŠ¡é€æ­¥æ‹†åˆ†åˆ°ä¸åŒçš„å›¢é˜Ÿï¼Œä»¥åŠåˆ†åŒ…ã€æ’ä»¶ã€NPM åŒ…çš„å¤§é‡ä½¿ç”¨ï¼Œä¸åŒä¸šåŠ¡å›¢é˜Ÿä¹‹é—´çš„æ¥å£è°ƒç”¨é—®é¢˜ã€åŒ…å¤§å°çš„ç®¡ç†é—®é¢˜ã€æœ€ç»ˆçš„å°ç¨‹åºäº§ç‰©åˆå¹¶é—®é¢˜ç­‰è¶Šæ¥è¶Šçªå‡ºï¼ŒåŸºäºè¿™ä¸ªèƒŒæ™¯å’Œéœ€æ±‚ï¼Œæ•´åˆé¥¿äº†ä¹ˆåœ¨å¤§å‹å°ç¨‹åºä¸Šçš„å„ç±»æœ€ä½³å®è·µå’Œè§£å†³æ–¹æ¡ˆï¼Œä»å·¥ç¨‹åŒ–çš„è§’åº¦å‡ºå‘ï¼Œæˆ‘ä»¬æ¨å‡ºäº† **å¤æ‚å°ç¨‹åºé›†æˆèƒ½åŠ›**ã€‚

ç›¸å…³åŠŸèƒ½ä¸»è¦ç”± `@morjs/plugin-composer` æ’ä»¶æä¾›ã€‚

## åŠ¨æœº

å¤šä¸ªç‹¬ç«‹çš„æ„å»ºå¯ä»¥ç»„æˆä¸€ä¸ªç‹¬ç«‹çš„å°ç¨‹åºï¼Œè¿™äº›ç‹¬ç«‹æ„å»ºä¹‹é—´ä¸åº”è¯¥å­˜åœ¨å¼ºä¾èµ–å…³ç³»ï¼Œå› æ­¤å¯ä»¥ç‹¬ç«‹å¼€å‘ã€è°ƒè¯•å’Œéƒ¨ç½²ã€‚

é™¤å®¿ä¸»ä¹‹å¤–ï¼Œåˆ†åŒ…ã€æ’ä»¶å’Œæ¨¡å—å¹¶ä¸è¦æ±‚ä¸€å®šè¦é‡‡ç”¨ `MorJS` æ¥ç¼–å†™ï¼Œåªè¦ç¬¦åˆæ¥å…¥æ–¹å¼çš„è§„èŒƒï¼Œç†è®ºä¸Šé‡‡ç”¨ä»»ä½•å°ç¨‹åºæ¡†æ¶çš„å°ç¨‹åºæˆ–åŸç”Ÿå°ç¨‹åºå‡å¯ä»¥è¿›è¡Œç‹¬ç«‹å¼€å‘å’Œé›†æˆã€‚

_æ³¨ï¼šå°ç¨‹åºã€åˆ†åŒ…ã€æ’ä»¶çš„æ‰“åŒ…æ–¹å¼å½’å±äºç¼–è¯‘ï¼Œä¸åœ¨è¿™é‡Œä½“ç°ã€‚_

## ç›®æ ‡

- æä¾›ç»Ÿä¸€çš„é›†æˆç ”å‘æ–¹å¼å’Œæµç¨‹
- æä¾›æ ‡å‡†ã€å¯å¤ç”¨çš„é›†æˆäº§ç‰©è§„èŒƒ
- ä¸ºå¤æ‚å°ç¨‹åºæä¾›è§£è€¦å·¥å…·å’Œé›†æˆæ–¹æ³•
- æ ‡å‡†åŒ–å°ç¨‹åºå®¿ä¸»ã€å°ç¨‹åºæ’ä»¶ã€å°ç¨‹åºåˆ†åŒ…ã€å°ç¨‹åºæ¨¡å—ä¹‹é—´çš„é€šä¿¡åŠèƒ½åŠ›æ³¨å…¥æ–¹å¼
- æä¾›ç»Ÿä¸€çš„è·¯ç”±è°ƒç”¨ï¼Œæ–¹ä¾¿å¤šå½¢æ€çš„å°ç¨‹åºåœ¨å¤šç§ç¯å¢ƒä¸‹è·¯ç”±çš„ä¸€è‡´æ€§
- è½¬ Web ä¹‹åï¼Œå¯åŸºäºå¾®åº”ç”¨çš„æ–¹å¼è¿›è¡Œç»„åˆï¼ˆæœªå®ç°ï¼‰

## ç¤ºæ„å›¾

<img src="https://img.alicdn.com/imgextra/i4/O1CN01CeUbnD20ZJ0uIRlZG_!!6000000006863-0-tps-3672-1556.jpg" width="1200" />

## æ¦‚å¿µ

### é›†æˆ

å°†å°ç¨‹åºå®¿ä¸»å’Œç›¸å…³å­æ¨¡å—é€šè¿‡æ‹‰åŒ…ã€ç¼–è¯‘ã€æ„å»ºã€åˆå¹¶ç­‰ä¸€ç³»åˆ—å¤„ç†ä¹‹åï¼Œåˆå¹¶ä¸ºä¸€ä¸ªå®Œæ•´å°ç¨‹åºçš„è¿‡ç¨‹

### æ¨¡å—ç±»å‹

- **å®¿ä¸»**ï¼šå°ç¨‹åºä¸»ä½“ï¼Œæ‹¥æœ‰å°ç¨‹åºå®Œæ•´çš„æƒé™ï¼Œæœ‰ `appId`ï¼Œå¯ä½¿ç”¨æ’ä»¶å’Œåˆ†åŒ…ï¼Œå¹¶å¯ä¸ºä¸åŒçš„æ’ä»¶å’Œåˆ†åŒ…æä¾›å…±äº«çš„æ•°æ®å’Œæ–¹æ³•
- **ä¸»åŒ…**ï¼šå°ç¨‹åºåˆ†åŒ…çš„ä¸€ç§ï¼Œæ¯ä¸ªå°ç¨‹åºåªæœ‰ä¸€ä¸ªä¸»åŒ…ï¼Œç”¨äºæ”¾ç½®é»˜è®¤å¯åŠ¨é¡µé¢/TabBar é¡µé¢ï¼Œä»¥åŠä¸€äº›æ‰€æœ‰åˆ†åŒ…éƒ½éœ€ç”¨åˆ°å…¬å…±èµ„æº/JS è„šæœ¬
- **åˆ†åŒ…**ï¼šå°ç¨‹åºåˆ†åŒ…ï¼Œåˆ†ä¸ºæ™®é€šåˆ†åŒ…å’Œç‹¬ç«‹åˆ†åŒ…ï¼Œå¯ç”³è¯·å°ç¨‹åºæƒé™ï¼Œä½¿ç”¨ä½“æ„Ÿæ¥è¿‘äºå°ç¨‹åºå®¿ä¸»
- **æ’ä»¶**ï¼šå°ç¨‹åºæ’ä»¶ï¼Œç‹¬ç«‹å‘å¸ƒï¼ŒåµŒå¥—åœ¨å°ç¨‹åºå®¿ä¸»ä¸­ä½¿ç”¨ï¼Œå¯è¢«è®¢é˜…ä½¿ç”¨ï¼Œä¸å¯å•ç‹¬ç”³è¯·å°ç¨‹åºæƒé™

### é›†æˆæ¨¡å¼

- **ç»„åˆæ¨¡å¼**ï¼š é›†æˆæ—¶çš„æ¨¡å—é€šè¿‡è‡ªå®šä¹‰çš„è„šæœ¬å®Œæˆç¼–è¯‘ï¼Œä¸ç»è¿‡ `MorJS` ç¼–è¯‘å¤„ç†ï¼Œ`MorJS` ä»…ä¼šæ‰§è¡Œè„šæœ¬ä»¥åŠæ“ä½œæ¨¡å—äº§ç‰©
- **ç¼–è¯‘æ¨¡å¼**ï¼š é›†æˆæ—¶çš„æ¨¡å—ç›¸å…³é¡µé¢æˆ–ç»„ä»¶ä¼šåˆå¹¶è¿›å…¥åˆ° `MorJS` çš„ç¼–è¯‘æµç¨‹ä¸­ï¼Œå¹¶ä¸å®¿ä¸»äº§ç‰©ä¸€åŒè¾“å‡º

### é›†æˆçŠ¶æ€

é›†æˆè¿‡ç¨‹ä¸­æ¨¡å—åœ¨ä¸åŒé˜¶æ®µæ‰€å¤„çš„çŠ¶æ€ï¼Œç”¨äºåˆ¤æ–­æ¨¡å—æ˜¯å¦éœ€è¦æ‰§è¡Œå½“å‰æ“ä½œï¼Œåˆå§‹çŠ¶æ€ä¸º **0**ï¼Œæœ€ç»ˆçŠ¶æ€ä¸º **6**ï¼Œè¯¦ç»†çŠ¶æ€åŠå«ä¹‰å¦‚ä¸‹ï¼š

- **0**ï¼šåˆå§‹çŠ¶æ€
- **1**ï¼šæ¨¡å—å·²ä¸‹è½½
- **2**ï¼šæ¨¡å—å‰ç½®è„šæœ¬å·²æ‰§è¡Œ
- **3**ï¼šæ¨¡å—é…ç½®å·²è½½å…¥
- **4**ï¼šæ¨¡å—å·²å®Œæˆç¼–è¯‘æˆ–æ‹·è´
- **5**ï¼šæ¨¡å—åç½®è„šæœ¬å·²æ‰§è¡Œ
- **6**ï¼šæ¨¡å—å·²é›†æˆ

### ä¸‹è½½ç±»å‹

é›†æˆè¿‡ç¨‹ä¸­ï¼Œç”¨äºå°†æ¨¡å—ä¸‹è½½åˆ°æŒ‡å®šä½ç½®çš„æ–¹å¼ï¼Œå¯åˆ†ä¸ºå¦‚ä¸‹ 5 ç§ä¸‹è½½ç±»å‹ï¼š

- **npm**ï¼šé€šè¿‡ `NPM` çš„æ–¹å¼ä¸‹è½½ï¼Œå³æ¨¡å—ä»¥ `NPM` åŒ…çš„æ–¹å¼å‘å¸ƒå’Œç®¡ç†
- **git**ï¼šé€šè¿‡ `Git` çš„æ–¹å¼ä¸‹è½½ï¼Œå³æ¨¡å—ä»¥ `Git` ä»“åº“çš„æ–¹å¼å‘å¸ƒå’Œç®¡ç†
- **tar**ï¼šé€šè¿‡ `Tar` å‹ç¼©åŒ…çš„æ–¹å¼ä¸‹è½½ï¼Œå³æ¨¡å—ä»¥æŸä¸ªå­˜æ”¾åœ¨ç½‘ç»œæˆ– `CDN` ä¸Šçš„ `Tar` èµ„æºå½¢å¼å­˜åœ¨
- **link**ï¼šé€šè¿‡æœ¬åœ°è½¯é“¾çš„æ–¹å¼ä¸‹è½½ï¼Œå³æ¨¡å—å­˜å‚¨åœ¨æœ¬åœ°æŸä¸ªç›®å½•ä¸­ï¼Œé€šè¿‡è½¯é“¾çš„å½¢å¼ï¼Œå°†æ¨¡å—é“¾æ¥åˆ°æŒ‡å®šä½ç½®
- **file**ï¼šé€šè¿‡æœ¬åœ°ç›®å½•æ‹·è´çš„æ–¹å¼ä¸‹è½½ï¼Œå³æ¨¡å—å­˜å‚¨åœ¨æœ¬åœ°æŸä¸ªç›®å½•ä¸­ï¼Œé€šè¿‡æ‹·è´æ•´ä¸ªç›®å½•çš„æ–¹å¼ï¼Œå°†æ¨¡å—å¤åˆ¶åˆ°æŒ‡å®šä½ç½®

### é›†æˆè„šæœ¬

é›†æˆè¿‡ç¨‹ä¸­ï¼Œæ¨¡å—éœ€è¦è‡ªå®šä¹‰æ‰§è¡Œçš„è„šæœ¬å‘½ä»¤ï¼Œé€šå¸¸ç”¨äºç”Ÿæˆæ¨¡å—å®é™…ç”¨äºé›†æˆçš„äº§ç‰©ï¼š

- **before**ï¼šå‰ç½®è„šæœ¬ï¼Œå•ä¸€æ¨¡å—æˆåŠŸä¸‹è½½åæ‰§è¡Œçš„è„šæœ¬
- **after**ï¼šåç½®è„šæœ¬ï¼Œå•ä¸€æ¨¡å—å·²å®Œæˆäº§ç‰©çš„æ‹·è´æˆ–ç¼–è¯‘ä¹‹åæ‰§è¡Œçš„è„šæœ¬
- **composed**ï¼šå·²é›†æˆè„šæœ¬ï¼Œæ‰€æœ‰æ¨¡å—å®Œæˆé›†æˆåï¼Œé›†æˆæµç¨‹ç»“æŸå‰æ‰§è¡Œçš„è„šæœ¬

## é›†æˆé…ç½®

### é›†æˆå¼€å¯æ–¹å¼

MorJS çš„é›†æˆå¯åœ¨ä¸¤ç§æ–¹å¼ä¸‹ä½¿ç”¨ï¼Œä¸€ç§æ˜¯**ç›´æ¥é›†æˆ**ï¼Œä¸€ç§æ˜¯**ç¼–è¯‘æ—¶è‡ªåŠ¨é›†æˆ**

#### ç›´æ¥é›†æˆ

é€šè¿‡ `mor compose` å‘½ä»¤æ§åˆ¶ï¼Œä¸æ¶‰åŠåˆ°ç¼–è¯‘æµç¨‹ï¼Œä¸å¤„ç† `mode` ä¸º `compile` çš„æ¨¡å—ï¼Œä¸»è¦çš„åŠŸèƒ½æ˜¯å°†å®¿ä¸»å’Œå„ä¸ªåˆ†åŒ…åˆå¹¶åœ¨ä¸€èµ·ç»„åˆæˆä¸€ä¸ªå®Œæ•´çš„å°ç¨‹åºã€‚

#### ç¼–è¯‘æ—¶è‡ªåŠ¨é›†æˆ

é€šè¿‡ `mor compile` å‘½ä»¤æ§åˆ¶ï¼Œæ¶‰åŠåˆ°ç¼–è¯‘æµç¨‹ï¼Œé€šå¸¸ç”¨äºé…åˆå½“å‰å®¿ä¸»æˆ–åˆ†åŒ…çš„çº¿ä¸‹ç ”å‘ã€‚

ç¼–è¯‘æ—¶ MorJS æ”¯æŒé€šè¿‡ä¸¤ç§æ–¹å¼å¼€å¯é›†æˆï¼Œä½¿ç”¨ä»»ä½•ä¸€ç§å‡å¯ï¼š

1. é€šè¿‡å‘½ä»¤ `mor compile --compose` ä¸­çš„ `--compose` åœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨å¼€å¯é›†æˆ
2. é€šè¿‡åœ¨ MorJS é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  `{ compose: true }` æ¥è‡ªåŠ¨å¼€å¯é›†æˆ

#### ä¸¤è€…çš„ä¸»è¦åŒºåˆ«

`mor compile --compose` å¯ä»¥è®¤ä¸ºæ˜¯ç›¸å½“äºå…ˆæ‰§è¡Œé¡¹ç›®çš„ç¼–è¯‘ `mor compile`, ç„¶åå°†å½“å‰é¡¹ç›®ä½œä¸ºå®¿ä¸»ï¼ˆ`host`ï¼‰æˆ–å…¶ä¸­ä¸€ä¸ªæ¨¡å—ï¼ˆ`module`ï¼‰è¿›è¡Œé›†æˆ `mor compose`

### é›†æˆæ¨¡å—é…ç½®

åœ¨ `mor.config.ts` é€šè¿‡è®¾ç½® `host: {}` æˆ– `modules: [{}]` æ¥é…ç½®å®¿ä¸»æˆ–å­æ¨¡å—ï¼Œå¦‚ï¼š

> æœ‰å…³ MorJS é…ç½®çš„è¯¦ç»†ä¿¡æ¯ï¼Œå‚è§ï¼š[é…ç½®è¯´æ˜](/guides/basic/config#%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E)

```typescript
export default defineConfig([
  {
    // å®¿ä¸»é…ç½®
    host: {}

    // å­æ¨¡å—ï¼ˆå¦‚ï¼šåˆ†åŒ…ç­‰ï¼‰
    modules: [{}]
  }
])
```

ä¸Šè¿°ç¤ºä¾‹ä¸­çš„ `host` å’Œ `modules` çš„é…ç½®æ–¹å¼åŸºæœ¬ä¸€è‡´ï¼Œå…¶ä¸­ `host` åªèƒ½é…ç½®ä¸€ä¸ªï¼Œ`modules` å¯ä»¥é…ç½®å¤šä¸ªï¼Œè¯¦ç»†çš„é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š

```typescript
{
  /**
   * æ¨¡å—åç§°, å¯é€‰å€¼, é»˜è®¤ä¼šåŸºäº `npm` æˆ– `git` æˆ– `tar` æˆ– `link` æˆ– `file` é…ç½®è‡ªåŠ¨ç”Ÿæˆ
   */
  name: '',

  /**
   * æ¨¡å—é›†æˆæ¨¡å¼, é»˜è®¤ä¸º `compose`
   *  - compose: é€šè¿‡ compose æ–¹å¼é›†æˆ, é€šè¿‡æ‹·è´çš„æ–¹å¼å¤åˆ¶åˆ°äº§ç‰©ç›®å½•
   *  - compile: é€šè¿‡ compile æ–¹å¼é›†æˆ, éœ€è¦é€šè¿‡ mor ç¼–è¯‘æµç¨‹
   */
  mode: 'compose',

  /**
   * æ¨¡å—ç±»å‹, é»˜è®¤ä¸º `subpackage`
   *  - å£°æ˜ä¸º å®¿ä¸»ï¼ˆhostï¼‰ çš„æ¨¡å—ï¼Œæ¨¡å—ä¸­åŒ…å« app.json å¹¶ä½œä¸ºå…¶ä»–æ¨¡å—é›†æˆçš„ç›®æ ‡ï¼Œé…ç½®åœ¨ `host` ä¸­çš„æ¨¡å—ï¼Œè¯¥ç±»å‹å›ºå®šä¸º `host `
   *  - å£°æ˜ä¸º ä¸»åŒ…ï¼ˆmainï¼‰ çš„æ¨¡å—ï¼Œä¼šå°†é¡µé¢æ’å…¥åˆ°å°ç¨‹åº app.json çš„ pages ä¸­
   *  - å£°æ˜ä¸º åˆ†åŒ…ï¼ˆsubpackageï¼‰ çš„æ¨¡å—ï¼Œä¼šå°†é¡µé¢æ’å…¥åˆ°å°ç¨‹åº app.json çš„ subPackages ä¸­
   *  - å£°æ˜ä¸º æ’ä»¶ï¼ˆpluginï¼‰ çš„æ¨¡å—: åŠŸèƒ½ç ”å‘ä¸­
   */
  type: 'subpackage',

  /**
   * ä¸‹è½½é…ç½®
   *
   * npm / git / tar / link / file å‡ç”¨äºä¸‹è½½æ¨¡å—, åªéœ€è¦é…ç½®ä¸€ä¸ªå³å¯
   *
   * å¦‚æœåŒæ—¶é…ç½®äº†å¤šä¸ªï¼Œåˆ™åªä¼šæœ‰ä¸€ä¸ªä¸‹è½½é…ç½®ç”Ÿæ•ˆï¼Œä¼˜å…ˆçº§ä¸ºï¼šnpm > git > tar > link > file
   */
  /* é€šè¿‡ npm é…ç½®æ¨¡å—ä¸‹è½½ */
  // å­—ç¬¦ä¸²æ–¹å¼é…ç½®ï¼Œå¦‚:
  npm: 'your_package@1.2.0',
  // å¯¹è±¡æ–¹å¼é…ç½®ï¼Œå¦‚ï¼š
  npm: {
    // npm åç§°
    name: 'your_package',
    // npm ç‰ˆæœ¬, é»˜è®¤ä¸º `latest`
    version: '1.2.0'
  },

  /* é€šè¿‡ git ä»“åº“é…ç½®æ¨¡å—ä¸‹è½½ */
  // å­—ç¬¦ä¸²æ–¹å¼é…ç½®ï¼Œå¦‚:
  git: 'git@github.com:abc/cde.git#master'
  // å¯¹è±¡æ–¹å¼é…ç½®ï¼Œå¦‚ï¼š
  // æ³¨æ„: branch/tag/commit çš„ä¼˜å…ˆçº§ä¸º commit > tag > branch, ç›¸å…³å­—æ®µå‡é…ç½®åï¼Œä¼šæŒ‰ç…§ä¼˜å…ˆçº§å–ç”¨
  git: {
    // ä»“åº“åœ°å€, æ”¯æŒ git/http/https/ssh åè®®é“¾æ¥
    url: 'git@github.com:abc/cde.git',
    // åˆ†æ”¯é…ç½®, é»˜è®¤ä¸º HEAD
    branch: 'develop',
    // æ ‡ç­¾é…ç½®
    tag: 'v1.1.0',
    // Git æäº¤ commit id
    commit: 'abcdefghijklmnopqrstuvwxyz',
  },

  /* é€šè¿‡ tar é…ç½®æ¨¡å—ä¸‹è½½ */
  // å­—ç¬¦ä¸²æ–¹å¼é…ç½®ï¼Œå¦‚:
  tar: 'https://your_domain.com/abc.tar.gz',
  // å¯¹è±¡æ–¹å¼é…ç½®ï¼Œå¦‚ï¼š
  tar: {
    url: 'https://your_domain.com/abc.tar.gz',
    // æ”¯æŒå¢åŠ æ‰©å±•å‚æ•°, å‚è§ got é…ç½®
  },

  /* é€šè¿‡ link é…ç½®ï¼ˆè½¯é“¾ï¼‰æ¨¡å—ä¸‹è½½ */
  // å­—ç¬¦ä¸²æ–¹å¼é…ç½®ï¼Œå¦‚:
  link: '/Users/yourHomeDir/Workspace/yourCustomHostPath',
  // å¯¹è±¡æ–¹å¼é…ç½®ï¼Œå¦‚ï¼š
  link: {
    path: '/Users/yourHomeDir/Workspace/yourCustomHostPath'
  },

  /* é€šè¿‡ file é…ç½®ï¼ˆå¤åˆ¶ï¼‰æ¨¡å—ä¸‹è½½ */
  // å­—ç¬¦ä¸²æ–¹å¼é…ç½®ï¼Œå¦‚:
  file: '/Users/yourHomeDir/Workspace/yourCustomHostPath',
  // å¯¹è±¡æ–¹å¼é…ç½®ï¼Œå¦‚ï¼š
  file: {
    path: '/Users/yourHomeDir/Workspace/yourCustomHostPath'
  },

  // æ„å»ºäº§ç‰©ç›®å½•é…ç½®, é»˜è®¤ä¸º `dist`
  // dist é…ç½®çš„ä½œç”¨æ˜¯å‘ŠçŸ¥ mor å½“å‰æ¨¡å—çš„äº§ç‰©æ‰€å­˜æ”¾çš„ç›®å½•ä½ç½®
  dist: 'dist',

  /**
   * é›†æˆæ„å»ºè¿‡ç¨‹ä¸­å¯æ‰§è¡Œçš„è„šæœ¬, å¯é€‰é…ç½®
   */
  scripts: {
    // æ‰§è¡Œè„šæœ¬æ—¶çš„å…¬å…±ç¯å¢ƒå˜é‡, å¯é€‰é…ç½®
    // mor é»˜è®¤ä¼šæ³¨å…¥å¦‚ä¸‹ç¯å¢ƒå˜é‡:
    //   MOR_COMPOSER_MODULE_CWD: å½“å‰æ¨¡å—å·¥ä½œç›®å½•
    //   MOR_COMPOSER_MODULE_TYPE: å½“å‰æ¨¡å—ç±»å‹
    //   MOR_COMPOSER_MODULE_HASH: å½“å‰æ¨¡å— hash ä¿¡æ¯, ç”¨äº mor å†…éƒ¨åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°ä¸‹è½½æ¨¡å—
    //   MOR_COMPOSER_MODULE_ROOT: å½“å‰æ¨¡å—æ ¹ç›®å½•
    //   MOR_COMPOSER_MODULE_SOURCE: å½“å‰æ¨¡å—æºç ç›®å½•
    //   MOR_COMPOSER_MODULE_OUTPUT_FROM: å½“å‰æ¨¡å—åŸå§‹äº§ç‰©ç›®å½•
    //   MOR_COMPOSER_MODULE_OUTPUT_TO: å½“å‰æ¨¡å—é›†æˆäº§ç‰©ç›®å½•
    env: {},

    // æ¨¡å—ç¼–è¯‘æˆ–æ‹·è´å‰æ‰§è¡Œè„šæœ¬, å¯é€‰é…ç½®
    before: [
      // å¯ä»¥ç›´æ¥ä»¥å­—ç¬¦ä¸²çš„æ–¹å¼é…ç½®å‘½ä»¤
      'npm i',

      // ä¹Ÿå¯ä»¥ä»¥å¯¹è±¡çš„æ–¹å¼é…ç½®
      {
        // éœ€è¦æ‰§è¡Œçš„å‘½ä»¤
        command: 'cd some_dir && mor compile',
        // è¯¥å‘½ä»¤çš„è‡ªå®šä¹‰ç¯å¢ƒå˜é‡
        env: {
          CUSTOM_ENV: 'CUSTOM_ENV_VALUE'
        },
        // è¯¥å‘½ä»¤çš„é€‰é¡¹, å‚è§ execa.command çš„ options é…ç½®
        options: {
          shell: true
        }
      },
    ],

    // æ¨¡å—ç¼–è¯‘å®Œæˆåæˆ–æ‹·è´åæ‰§è¡Œè„šæœ¬ï¼Œé…ç½®æ–¹å¼åŒ beforeï¼Œå¯é€‰é…ç½®
    after: [],

    // æ‰€æœ‰æ¨¡å—å®Œæˆé›†æˆä¹‹åæ‰§è¡Œè„šæœ¬ï¼Œé…ç½®æ–¹å¼åŒ beforeï¼Œå¯é€‰é…ç½®
    composed: [],

    // è„šæœ¬æ‰§è¡Œå…¬å…±é€‰é¡¹, å‚è§ execa.command çš„ options é…ç½®
    options: {}
  },

  /**
   * æ¨¡å—é…ç½®å†…å®¹ï¼Œå‚è§ä¸‹æ–¹é›†æˆäº§ç‰©è§„èŒƒçš„ [config].json æè¿°
   */
  config: undefined
}
```

## é›†æˆäº§ç‰©è§„èŒƒ

é›†æˆäº§ç‰©æ˜¯æŒ‡å¯ç”¨äºå‚ä¸åˆ°å°ç¨‹åºé›†æˆçš„æ ‡å‡†æ¨¡å—äº§ç‰©ï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- æ¡†æ¶æ— å…³
- å¯å¤ç”¨
- è‡ªæè¿°

æ¨¡å—æ–‡ä»¶ç›®å½•ç»“æ„ï¼š

```bash
[module name]                 - ä»¥æ¨¡å—åç§°å‘½åçš„æ¨¡å—æ ¹ç›®å½•ï¼Œå¯ä»¥ç”±æ¨¡å—é…ç½®çš„ `name` æŒ‡å®šæˆ–åŸºäºä¸‹è½½é…ç½®è‡ªåŠ¨ç”Ÿæˆ
â”œâ”€â”€ [hash]                    - æ¨¡å—æºç æˆ–äº§ç‰©æ‰€åœ¨ç›®å½•, `hash` æ˜¯ç”±æ¨¡å—é…ç½®ä¸­çš„ `git`/`npm`/`tar`/`dist`/`mode` å­—æ®µç”Ÿæˆçš„ MD5 å€¼ï¼Œç”¨äºè¾…åŠ©åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°ä¸‹è½½æ¨¡å—
â”‚Â Â  â”œâ”€â”€ [dist?]               - æ¨¡å—äº§ç‰©æ‰€åœ¨ç›®å½•ï¼Œä»¥ mor.compose.json ä¸­çš„ output.from æŒ‡å‘ç›®å½•ä¸ºå‡†
â”‚Â Â  â”‚Â Â  â””â”€â”€ [config].json     - æ¨¡å—äº§ç‰©é…ç½®æ–‡ä»¶ï¼Œä¸åŒçš„æ¨¡å—ç±»å‹çš„é…ç½®æ–‡ä»¶å‡ä¸ç›¸åŒï¼Œä¸ mor.compose.json æ–‡ä»¶çš„ config å­—æ®µä½œç”¨ç›¸åŒ
â””â”€â”€ mor.compose.json          - æ¨¡å—æè¿°æ–‡ä»¶
```

### é›†æˆäº§ç‰©ä¸´æ—¶ç›®å½•

MorJS ä¼šå°†é›†æˆäº§ç‰©ç»Ÿä¸€å­˜æ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•çš„ `.mor/composer` ä¸´æ—¶ç›®å½•ä¸­ï¼Œå…¶ä¸­å®¿ä¸»æ¨¡å—ä¼šç»Ÿä¸€æ”¾åœ¨ `.mor/composer/hosts` ç›®å½•ä¸­ï¼Œå­æ¨¡å—ä¼šç»Ÿä¸€æ”¾åœ¨ `.mor/composer/modules` ç›®å½•ä¸­ã€‚

é›†æˆçš„å®¿ä¸»æ¨¡å—å’Œå„ä¸ªå­æ¨¡å—çš„çŠ¶æ€éƒ½æ˜¯ç‹¬ç«‹ç»´æŠ¤çš„ï¼Œæ¯”å¦‚æŸæ¬¡æ‰§è¡Œé›†æˆå‘½ä»¤ï¼š

```bash
[mor] â„¹ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
        â”‚ æ¨¡å— (å…± 6 ä¸ª, é›†æˆç»ˆæ€: å·²é›†æˆ)                 â”‚ ç‰ˆæœ¬           â”‚ ç±»å‹  â”‚ æ¨¡å¼  â”‚ ç»“æœ â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ miniprogram_host                             â”‚ *              â”‚ å®¿ä¸»  â”‚ ç¼–è¯‘ â”‚  âœ”   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ subpackage1                                  â”‚ dev/1.0.0      â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚  âœ–   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ subpackage2                                  â”‚ feat/1.0.0     â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚  âœ”   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ subpackage3                                  â”‚ feature/1.0.0  â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚  âœ”   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ subpackage4                                  â”‚ dev/1.1.0      â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚  âœ”   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ subpackage5                                  â”‚ feature/1.1.0  â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚  âœ”   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

ä¸Šæ–¹é›†æˆçš„æ¨¡å—ä¸­ï¼Œ`subpackage1` æ¨¡å—é›†æˆå¤±è´¥ï¼Œå¯ç›´æ¥é€šè¿‡åˆ é™¤ç›®å½• `.mor/composer/modules/subpackage1` åé‡æ–°è¿è¡Œå‘½ä»¤ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œ

```bash
npx mor clean all
```

æ¥æ¸…ç† MorJS çš„ç¼“å­˜ç›®å½• `node_modules/.cache/mor` å’Œä¸´æ—¶æ–‡ä»¶ç›®å½• `.mor` åï¼Œé‡æ–°è¿è¡Œä¹‹å‰çš„é›†æˆå‘½ä»¤ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¨èåªåˆ é™¤å‡ºé—®é¢˜çš„æ¨¡å—ï¼Œè¿™æ ·å½“å†æ¬¡è¿è¡Œé›†æˆå‘½ä»¤æ—¶ï¼Œå·²å®Œæˆé›†æˆçš„æ¨¡å—ï¼Œä¼šè¢«è·³è¿‡ï¼Œå¯å¤§å¤§èŠ‚çº¦é›†æˆæ—¶é—´ã€‚

### æ¨¡å—æè¿°æ–‡ä»¶ â€”â€” mor.compose.json

æ¨¡å—æè¿°æ–‡ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯ï¼šæè¿°ä¸€ä¸ªåä¸º `name` çŠ¶æ€ä¸º `state` çš„æ¨¡å—éœ€è¦å°†è‡ªèº«çš„äº§ç‰©é€šè¿‡é›†æˆæ¨¡å¼ `mode` çš„æ–¹å¼ä»ç›®å½• `output.from` é›†æˆåˆ°ç›®å½• `output.to` ä¸­ï¼Œå¹¶å°†é…ç½® `config` åˆå¹¶åˆ°å°ç¨‹åºçš„ `app.json` æ–‡ä»¶ä¸­ã€‚

```javascript
{
  // æ¨¡å—åç§°ï¼Œè¯¥åç§°å’Œæ¨¡å—æ‰€åœ¨ç›®å½•åç§°ä¸€è‡´
  "name": "miniapp-subpackage-name",
  // æ¨¡å—ç±»å‹
  "type": "subpackage",
  // é›†æˆæ¨¡å¼
  "mode": "compose",
  // æ¨¡å— hash ç›®å½•ï¼ŒåŸºäºæ¨¡å—é…ç½®ç”Ÿæˆï¼Œç”¨äºç¡®ä¿å½“å‰æ¨¡å—å†…å®¹çš„å”¯ä¸€æ€§
  "hash": "dc66928b089d5e14b77bdbdb09f4b60a",
  // æ¨¡å—æ‰€åœ¨ç›®å½•
  "root": ".mor/composer/modules/miniapp-subpackage-name",
  // æ¨¡å—æºä»£ç æ‰€åœ¨ç›®å½•ï¼Œé€šå¸¸ç”¨äºç»“åˆè„šæœ¬ç”Ÿæˆæœ€ç»ˆäº§ç‰©
  "source": ".mor/composer/modules/miniapp-subpackage-name/dc66928b089d5e14b77bdbdb09f4b60a",
  // æ¨¡å—é›†æˆçŠ¶æ€
  "state": 2,
  // æ¨¡å—äº§ç‰©è¾“å‡ºé…ç½®
  "output": {
    // å½“å‰æ¨¡å—çš„äº§ç‰©æ‰€åœ¨ç›®å½•
    "from": ".mor/composer/modules/miniapp-subpackage-name/dc66928b089d5e14b77bdbdb09f4b60a",
    // éœ€è¦å°†å½“å‰æ¨¡å—äº§ç‰©å¤åˆ¶åˆ°çš„ç›®æ ‡ç›®å½•
    "to": "dist/subpackageName"
  },
  // æ¨¡å—é…ç½®æ–‡ä»¶ï¼Œä½œç”¨åŒ app.json/plugin.json/subpackage.json
  "config": {
    "type": "main",
    "root": "subpackageName",
    "pages": [
      "pages/index/index"
    ]
  }
}
```

### æ¨¡å—äº§ç‰©é…ç½®æ–‡ä»¶ â€”â€” [config].json

æ¨¡å—é…ç½®æ–‡ä»¶ï¼Œä¸åŒç±»å‹çš„æ¨¡å—é…ç½®æ–‡ä»¶æŒ‰ç…§å¦‚ä¸‹è§„åˆ™é…ç½®ï¼š

- å®¿ä¸»ï¼ˆ`host`ï¼‰ï¼šä½¿ç”¨ `app.json` é…ç½®æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å’Œå°ç¨‹åºçš„ `app.json` é…ç½®æ–¹å¼ä¸€è‡´
- ä¸»åŒ…ï¼ˆ`main`ï¼‰ï¼šä½¿ç”¨ `subpackage.json` é…ç½®æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å’Œå°ç¨‹åºçš„ `app.json` çš„ `subpackages` å­—æ®µæ¡ç›®é…ç½®æ–¹å¼ä¸€è‡´ï¼ŒåŒºåˆ«åœ¨äºæ‰©å±•äº† `"type": "main"` ç”¨äºæ ‡è®°å½“å‰æ¨¡å—ä¸ºä¸»åŒ…æ¨¡å—
- åˆ†åŒ…ï¼ˆ`subpackage`ï¼‰ï¼šä½¿ç”¨ `subpackage.json` é…ç½®æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å’Œå°ç¨‹åºçš„ `app.json` çš„ `subpackages` å­—æ®µæ¡ç›®é…ç½®æ–¹å¼ä¸€è‡´
- æ’ä»¶ï¼ˆ`plugin`ï¼‰ï¼šä½¿ç”¨ `plugin.json` é…ç½®æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å’Œå°ç¨‹åºæ’ä»¶çš„ `plugin.json` é…ç½®æ–¹å¼ä¸€è‡´

æ¨¡å—é…ç½®ç¤ºä¾‹

```javascript
/* é…ç½®ç¤ºä¾‹ */

// å°ç¨‹åº app.json é…ç½®ç¤ºä¾‹
// è¯¦ç»†é…ç½®å¯å‚è§å¾®ä¿¡å°ç¨‹åºæˆ–æ”¯ä»˜å®å°ç¨‹åº app.json é…ç½®
{
  "pages": [
    "pages/todos/todos",
    "pages/add-todo/add-todo"
  ],
  // subpackages æˆ– subPackages å‡å¯
  "subPackages": [
    {
      "root": "my",
      "pages": [
        "pages/profile/profile"
      ]
    }
  ]
}

// å°ç¨‹åºæ’ä»¶ plugin.json é…ç½®ç¤ºä¾‹
// è¯¦ç»†é…ç½®å¯å‚è§å¾®ä¿¡å°ç¨‹åºæˆ–æ”¯ä»˜å®å°ç¨‹åº plugin.json é…ç½®
{
  "publicComponents": {
    "list": "components/list/list"
  },
  "publicPages": {
    "hello-page": "pages/index/index"
  },
  "pages": [
    "pages/index/index",
    "pages/another/index"
  ],
  // æ’ä»¶å¯¼å‡ºçš„æ¨¡å—æ–‡ä»¶
  "main": "index.js"
}

// å°ç¨‹åºåˆ†åŒ… subpackage.json é…ç½®ç¤ºä¾‹
// é…ç½®æ–¹å¼åŒ app.json ä¸­çš„ subpackages çš„å•ä¸ªåˆ†åŒ…é…ç½®æ–¹å¼ä¸€è‡´
{
  // type å­—æ®µä¸º mor ç‹¬æœ‰, ç”¨äºæ ‡è¯†è¯¥åˆ†åŒ…ä¸º "subpackage" æˆ– "main"
  // åŒºåˆ«æ˜¯: é›†æˆæ—¶ "subpackage" ç±»å‹çš„åˆ†åŒ…ä¼šè¢«è‡ªåŠ¨åˆå¹¶åˆ° app.json çš„ subpackages å­—æ®µä¸­
  //              "main" ç±»å‹çš„åˆ†åŒ…ä¼šè¢«è‡ªåŠ¨åˆå¹¶åˆ° app.json çš„ pages å­—æ®µä¸­ (å³: åˆå¹¶è‡³ä¸»åŒ…)
  "type": "subpackage",
  // root å­—æ®µå°†å½±å“é›†æˆæ—¶åˆ†åŒ…äº§ç‰©åˆå¹¶è‡³å®¿ä¸»å°ç¨‹åºæ—¶çš„æ ¹ç›®å½•
  "root": "my",
  // æ³¨æ„: ç¼–è¯‘åˆ†åŒ…ä»¥ pages ä½œä¸ºå®é™…è·¯å¾„è¿›è¡Œè§£æ
  "pages": [
    "pages/profile/profile"
  ]
}
```

### å®é™…æ¨¡å—ç¤ºä¾‹

```bash
miniapp-subpackage-name
â”œâ”€â”€ dc66928b089d5e14b77bdbdb09f4b60a
â”‚   â”œâ”€â”€ dist
â”‚   â”‚Â Â  â”œâ”€â”€ components
â”‚   â”‚Â Â  â”œâ”€â”€ pages
â”‚   â”‚Â Â  â”‚Â Â  â””â”€â”€ index
â”‚   â”‚Â Â  â”‚Â Â   Â Â  â”œâ”€â”€ index.js
â”‚   â”‚Â Â  â”‚Â Â   Â Â  â”œâ”€â”€ index.json
â”‚   â”‚Â Â  â”‚Â Â   Â Â  â”œâ”€â”€ index.wxml
â”‚   â”‚Â Â  â”‚Â Â   Â Â  â””â”€â”€ index.wxss
â”‚Â Â  â”‚Â Â  â””â”€â”€ subpackage.json
â””â”€â”€ mor.compose.json
```

## ç”¨æ³•ä¸¾ä¾‹

è¿™é‡Œä¼šç®€å•åˆ—ä¸¾ä¸‰ç§é›†æˆç ”å‘æ¨¡å¼ï¼Œæ¥å¸®åŠ©å¤§å®¶ç†è§£é›†æˆçš„å…·ä½“ä½œç”¨å’Œä½¿ç”¨æ–¹æ³•ã€‚

### ä¸»/å­åˆ†åŒ…ç ”å‘æ¨¡å¼

ä¸šåŠ¡å¯åŸºäºä¸šåŠ¡å¯¹å°ç¨‹åºä¸­çš„åˆ†åŒ…è¿›è¡Œæ‹†åˆ†ï¼Œä»¥è¾¾åˆ°å„ä¸ªä¸šåŠ¡ç›¸äº’è§£è€¦ï¼Œç‹¬ç«‹è¿­ä»£çš„ç›®çš„ï¼Œå‚è§ä¸‹æ–¹åˆ†åŒ…é…ç½®ç¤ºä¾‹ï¼š

```typescript
import { defineConfig, takin } from '@morjs/cli'

export default defineConfig([
  {
    name: 'tt',
    sourceType: 'alipay',
    target: 'bytedance',
    modules: [
      // ä¸»å…¥å£åŒ…
      {
        name: 'miniapp-entry',
        git: {
          url: 'git@github.com:abc/miniapp-entry.git',
          branch: 'dev/1.0.0'
        },
        scripts: {
          before: ['npm i', 'npm run build:dy']
        },
        dist: 'dist/dy'
      },

      // æœç´¢åˆ†åŒ…
      {
        git: {
          url: 'git@github.com:abc/eleme-miniapp-plugin-search.git',
          branch: 'feat/upgrade-to-mor-2'
        },
        scripts: {
          before: ['npm i', 'cd plugin && npm i', 'mor compile --name dy']
        },
        dist: 'miniprogram_tt/dist'
      },

      // çº¢åŒ…åˆ†åŒ…
      {
        git: {
          url: 'git@github.com:abc/vouchers.git',
          branch: 'feature/dy'
        },
        scripts: {
          before: ['npm i', 'cd plugin && npm i', 'mor compile --name dy']
        },
        dist: 'dist/bytedance'
      },

      // è®¢å•åˆ—è¡¨
      {
        git: {
          url: 'git@github.com:abc/miniapp-plugin-orderlist.git',
          branch: 'dev/dy/10.12.5'
        },
        scripts: {
          before: ['npm i', 'npm run build:dy']
        },
        dist: 'build/_bytedance'
      },

      // å¹³å°(åœ°å€ç®¡ç†)
      {
        git: {
          url: 'git@github.com:abc/king-home-alipay.git',
          branch: 'feature/dy'
        },
        scripts: {
          before: ['npm i', 'mor compile --name douyin_subpackage']
        },
        dist: 'dist'
      }
    ]
  }
])
```

é€šè¿‡ `MorJS` å‘½ä»¤ï¼š`mor compile --compose` å³å¯é›†æˆä¸Šè¿°é…ç½®ä¸­å®¿ä¸»å’Œç›¸å…³çš„åˆ†åŒ…ã€‚

è¿è¡Œç»“æœç¤ºä¾‹ï¼š

```bash
[mor] âš‘ å½“å‰ MorJS ä¸ºå¼€æºç‰ˆæœ¬: @morjs/cli@1.0.0
[mor] â„¹ å‘ç°é…ç½®æ–‡ä»¶: mor.config.ts
[mor] âœ” é…ç½®æ–‡ä»¶åŠ è½½æˆåŠŸ: mor.config.ts
[mor] â„¹ å°ç¨‹åºé›†æˆåŠŸèƒ½å·²å¼€å¯
[mor] â„¹ å³å°†å¼€å§‹é›†æˆä»¥ä¸‹æ¨¡å—(æœ€å¤§å¹¶å‘æ•°: 4):
[mor] â„¹ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
        â”‚ æ¨¡å— (å…± 6 ä¸ª, é›†æˆç»ˆæ€: å·²é›†æˆ)                 â”‚ ç‰ˆæœ¬           â”‚ ç±»å‹  â”‚ æ¨¡å¼  â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ miniprogram_host                             â”‚ *              â”‚ å®¿ä¸»  â”‚ ç¼–è¯‘ â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ miniapp-entry                                â”‚ dev/dy_10.12.5 â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ eleme-ad_eleme-miniapp-plugin-search         â”‚ feat/upgrade-â€¦ â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ mini-foundation_vouchers                     â”‚ feature/dy     â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ eleme_miniapp-plugin-orderlist               â”‚ dev/dy/10.12.5 â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ alsc-mini-app_king-home-alipay               â”‚ feature/dy     â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
[mor] â„¹ æ¨¡å— eleme_miniapp-plugin-orderlist å‰ç½®è„šæœ¬å¼€å§‹æ‰§è¡Œ...
[mor] â„¹ æ¨¡å— eleme_miniapp-plugin-orderlist æ‰§è¡Œå‘½ä»¤: npm i
[mor] â„¹ æ¨¡å— alsc-mini-app_king-home-alipay å¼€å§‹ä¸‹è½½...
[mor] â„¹ æ¨¡å— eleme-ad_eleme-miniapp-plugin-search å‰ç½®è„šæœ¬å¼€å§‹æ‰§è¡Œ...
[mor] â„¹ æ¨¡å— eleme-ad_eleme-miniapp-plugin-search æ‰§è¡Œå‘½ä»¤: npm i
[mor] â„¹ æ¨¡å— mini-foundation_vouchers å‰ç½®è„šæœ¬å¼€å§‹æ‰§è¡Œ...
[mor] â„¹ æ¨¡å— mini-foundation_vouchers æ‰§è¡Œå‘½ä»¤: npm i
[mor] âœ” æ¨¡å— alsc-mini-app_king-home-alipay ä¸‹è½½æˆåŠŸ
[mor] â„¹ æ¨¡å— alsc-mini-app_king-home-alipay å‰ç½®è„šæœ¬å¼€å§‹æ‰§è¡Œ...
[mor] â„¹ æ¨¡å— alsc-mini-app_king-home-alipay æ‰§è¡Œå‘½ä»¤: npm i
[mor] â„¹ æ¨¡å— eleme_miniapp-plugin-orderlist æ‰§è¡Œå‘½ä»¤: npm run build:dy
[mor] âœ” æ¨¡å— eleme_miniapp-plugin-orderlist å‰ç½®è„šæœ¬æ‰§è¡ŒæˆåŠŸ, è€—æ—¶: 27.440s
[mor] â„¹ æ¨¡å— alsc-mini-app_king-home-alipay æ‰§è¡Œå‘½ä»¤: mor compile --name douyin_subpackage
[mor] âœ” æ¨¡å— alsc-mini-app_king-home-alipay å‰ç½®è„šæœ¬æ‰§è¡ŒæˆåŠŸ, è€—æ—¶: 70.623s
[mor] â„¹ æ¨¡å— mini-foundation_vouchers æ‰§è¡Œå‘½ä»¤: cd plugin && npm i
[mor] â„¹ æ¨¡å— mini-foundation_vouchers æ‰§è¡Œå‘½ä»¤: mor compile --name dy
[mor] â„¹ æ¨¡å— eleme-ad_eleme-miniapp-plugin-search æ‰§è¡Œå‘½ä»¤: cd plugin && npm i
[mor] âœ” æ¨¡å— mini-foundation_vouchers å‰ç½®è„šæœ¬æ‰§è¡ŒæˆåŠŸ, è€—æ—¶: 93.399s
[mor] â„¹ æ¨¡å— eleme-ad_eleme-miniapp-plugin-search æ‰§è¡Œå‘½ä»¤: mor compile --name dy
[mor] âœ” æ¨¡å— eleme-ad_eleme-miniapp-plugin-search å‰ç½®è„šæœ¬æ‰§è¡ŒæˆåŠŸ, è€—æ—¶: 115.475s
[mor] â„¹ å‡†å¤‡é…ç½®ä¸­, å³å°†å¼€å§‹ç¼–è¯‘ ğŸ‘‡
        é…ç½®åç§°: tt
        ç¼–è¯‘ç›®æ ‡: å­—èŠ‚å°ç¨‹åº
        ç¼–è¯‘ç¯å¢ƒ: development
        ç¼–è¯‘ç±»å‹: å°ç¨‹åº
        ç¼–è¯‘æ¨¡å¼: bundle
        æºç ç±»å‹: alipay
        æºç ç›®å½•: src
        è¾“å‡ºç›®å½•: dist/bytedance
[mor] â„¹ å·²å¼€å¯ç¼“å­˜, å¯é€šè¿‡ --no-cache å…³é—­
[mor] â„¹ å·²å¼€å¯ node_modules ç»„ä»¶å¤„ç†
[mor] â„¹ å¼€å§‹ç¼–è¯‘ ...
[mor] â„¹ ä¾èµ–åˆ†æä¸­ ...
[mor] â„¹ ä¾èµ–åˆ†æå®Œæˆ: è€—æ—¶: 86.012583 ms
[mor] â„¹ æ¨¡å—é›†æˆç»“æœ:
[mor] â„¹ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
        â”‚ æ¨¡å— (å…± 6 ä¸ª, é›†æˆç»ˆæ€: å·²é›†æˆ)                 â”‚ ç‰ˆæœ¬           â”‚ ç±»å‹  â”‚ æ¨¡å¼  â”‚ ç»“æœ â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ miniprogram_host                             â”‚ *              â”‚ å®¿ä¸»  â”‚ ç¼–è¯‘ â”‚  âœ”   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ miniapp-entry                                â”‚ dev/dy_10.12.5 â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚  âœ”   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ eleme-ad_eleme-miniapp-plugin-search         â”‚ feat/upgrade-â€¦ â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚  âœ”   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ mini-foundation_vouchers                     â”‚ feature/dy     â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚  âœ”   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ eleme_miniapp-plugin-orderlist               â”‚ dev/dy/10.12.5 â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚  âœ”   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ alsc-mini-app_king-home-alipay               â”‚ feature/dy     â”‚ åˆ†åŒ…  â”‚ ç»„åˆ â”‚  âœ”   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
[mor] âœ” é›†æˆäº§ç‰©ç›®å½•: dist/bytedance
[mor] âœ” ç¼–è¯‘å®Œæˆ, è€—æ—¶: 127941.680666 ms
```

ç”¨å°ç¨‹åº IDE æ‰“å¼€ dist/bytedance ç›®å½•å³å¯é¢„è§ˆé›†æˆåçš„å®Œæ•´å°ç¨‹åºã€‚

### SDK ç ”å‘æ¨¡å¼

ä¸šåŠ¡å¯å°†é€šç”¨é¡µé¢å°è£…ç½®æŸä¸ª `NPM` åŒ…ä¸­ä½œä¸ºé€šç”¨åŠŸèƒ½ï¼Œå¦‚ç»Ÿä¸€å®¿ä¸»çš„ `Solution` é…ç½®ï¼Œå‚è§ä¸‹æ–¹ç¤ºä¾‹ï¼š

```typescript
import { defineConfig } from '@morjs/cli'
export default defineConfig([
  {
    name: 'tt',
    target: 'bytedance',
    // é…ç½®éœ€è¦çš„ SDK
    modules: [
      {
        // æŒ‡å®š npm åç§°å’Œç‰ˆæœ¬
        npm: {
          name: 'mor-runtime-solution-standard-eleme',
          version: '1.0.4'
        },
        // é€šè¿‡ç¼–è¯‘çš„æ¨¡å¼å‚ä¸é›†æˆ
        mode: 'compile',
        // ä½œä¸ºä¸»åŒ…æ¨¡å—è¿›è¡Œé›†æˆ
        type: 'main',
        // mor-runtime-solution-standard-eleme åŒ…ä¸­çš„äº§ç‰©åœ°å€
        dist: './src',
        // é€šè¿‡é…ç½®æ³¨å…¥çš„é¡µé¢å†…å®¹ï¼šæ¶‰åŠ webview å’Œç™»å½•çš„é¡µé¢å’Œç»„ä»¶ï¼Œç”±å½“å‰ solution ç»Ÿä¸€æ”¶å£ç»´æŠ¤
        // é›†æˆç¼–è¯‘åï¼Œé…ç½®ä¸­çš„é¡µé¢å°†ä¼šåˆå¹¶è‡³ app.json çš„ pages å­—æ®µä¸­
        config: {
          pages: {
            'pages/container/index': 'pages/container/index',
            'pages/container-transnavbar/index':
              'pages/container-transnavbar/index',
            'pages/auth/index': 'pages/auth/index',
            'pages/havana/index': 'pages/havana/index'
          }
        }
      }
    ]
  }
])
```

é€šè¿‡ `MorJS` å‘½ä»¤ï¼š`mor compile --compose` å³å¯é›†æˆä¸Šè¿°é…ç½®ä¸­çš„é¡µé¢ã€‚

è¿è¡Œç»“æœç¤ºä¾‹ï¼š

```bash
[mor] âš‘ å½“å‰ MorJS ä¸ºå¼€æºç‰ˆæœ¬: @morjs/cli@1.0.0
[mor] â„¹ å‘ç°é…ç½®æ–‡ä»¶: mor.config.ts
[mor] âœ” é…ç½®æ–‡ä»¶åŠ è½½æˆåŠŸ: mor.config.ts
[mor] â„¹ å°ç¨‹åºé›†æˆåŠŸèƒ½å·²å¼€å¯
[mor] â„¹ å³å°†å¼€å§‹é›†æˆä»¥ä¸‹æ¨¡å—(æœ€å¤§å¹¶å‘æ•°: 4):
[mor] â„¹ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
        â”‚ æ¨¡å— (å…± 2 ä¸ª, é›†æˆç»ˆæ€: å·²é›†æˆ)                 â”‚ ç‰ˆæœ¬           â”‚ ç±»å‹  â”‚ æ¨¡å¼  â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ miniprogram_host                             â”‚ *              â”‚ å®¿ä¸»  â”‚ ç¼–è¯‘ â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ ali_mor-runtime-solution-standard-eleme_1_0â€¦ â”‚ 1.0.4........  â”‚ ä¸»åŒ…  â”‚ ç¼–è¯‘ â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
[mor] â„¹ å‡†å¤‡é…ç½®ä¸­, å³å°†å¼€å§‹ç¼–è¯‘ ğŸ‘‡
        é…ç½®åç§°: tt
        ç¼–è¯‘ç›®æ ‡: å­—èŠ‚å°ç¨‹åº
        ç¼–è¯‘ç¯å¢ƒ: development
        ç¼–è¯‘ç±»å‹: å°ç¨‹åº
        ç¼–è¯‘æ¨¡å¼: bundle
        æºç ç±»å‹: alipay
        æºç ç›®å½•: src
        è¾“å‡ºç›®å½•: dist/bytedance
[mor] â„¹ å·²å¼€å¯ç¼“å­˜, å¯é€šè¿‡ --no-cache å…³é—­
[mor] â„¹ å·²å¼€å¯ node_modules ç»„ä»¶å¤„ç†
[mor] â„¹ å¼€å§‹ç¼–è¯‘ ...
[mor] â„¹ ä¾èµ–åˆ†æä¸­ ...
[mor] â„¹ ä¾èµ–åˆ†æå®Œæˆ: è€—æ—¶: 1639.405709 ms
[mor] â„¹ æ¨¡å—é›†æˆç»“æœ:
[mor] â„¹ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
        â”‚ æ¨¡å— (å…± 2 ä¸ª, é›†æˆç»ˆæ€: å·²é›†æˆ)                 â”‚ ç‰ˆæœ¬           â”‚ ç±»å‹  â”‚ æ¨¡å¼  â”‚ ç»“æœ â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ miniprogram_host                             â”‚ *              â”‚ å®¿ä¸»  â”‚ ç¼–è¯‘  â”‚  âœ”   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ ali_mor-runtime-solution-standard-eleme_1_0â€¦ â”‚ 1.0.4........  â”‚ ä¸»åŒ…  â”‚ ç¼–è¯‘ â”‚  âœ”   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
[mor] âœ” é›†æˆäº§ç‰©ç›®å½•: dist/bytedance
[mor] âœ” ç¼–è¯‘å®Œæˆ, è€—æ—¶: 14175.584625 ms
```

### å°ç¨‹åºæ’ä»¶ç ”å‘æ¨¡å¼

ç”±äºå°ç¨‹åºæ’ä»¶æ— æ³•ç‹¬ç«‹è¿è¡Œï¼Œä¸”å¯¹äº§ç‰©ç›®å½•ç»“æ„æœ‰ç‰¹æ®Šçš„è¦æ±‚ï¼Œå¦‚ï¼š

```bash
dist
â”œâ”€â”€ miniprogram
â”œâ”€â”€ plugin
â””â”€â”€ mini.project.json
```

åŸºäºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ `MorJS` çš„é›†æˆåŠŸèƒ½ï¼Œæ¥å®ç°æ’ä»¶ç ”å‘ï¼Œå‚è€ƒé…ç½®å¦‚ä¸‹ï¼š

```typescript
import { defineConfig } from '@morjs/cli'

export default defineConfig([
  {
    name: 'alipay_plugin',
    sourceType: 'alipay',
    target: 'alipay',
    // ç¼–è¯‘ç±»å‹ä¸º æ’ä»¶
    compileType: 'plugin',
    compileMode: 'bundle',
    // é…ç½®æ’ä»¶å®¿ä¸»
    host: {
      git: {
        url: 'git@github.com:abc/king-home-alipay.git',
        branch: 'master'
      },
      scripts: {
        before: ['npm i', 'npm run compile:ali']
      },
      dist: '_ali'
    },
    outputPath: 'dist',
    // æ’ä»¶æºç ç›®å½•
    srcPath: 'plugin',
    autoClean: true
  }
])
```

é€šè¿‡ `MorJS` å‘½ä»¤ï¼š`mor compile --name alipay_plugin --compose` å³å¯é›†æˆä¸Šè¿°é…ç½®ä¸­çš„å°ç¨‹åºæ’ä»¶åŠå…¶å®¿ä¸»ã€‚

è¿è¡Œç»“æœç¤ºä¾‹ï¼š

```bash
[mor] âš‘ å½“å‰ MorJS ä¸ºå¼€æºç‰ˆæœ¬: @morjs/cli@1.0.0
[mor] â„¹ å‘ç°é…ç½®æ–‡ä»¶: mor.config.ts
[mor] âœ” é…ç½®æ–‡ä»¶åŠ è½½æˆåŠŸ: mor.config.ts
[mor] â„¹ å°ç¨‹åºé›†æˆåŠŸèƒ½å·²å¼€å¯
[mor] â„¹ å³å°†å¼€å§‹é›†æˆä»¥ä¸‹æ¨¡å—(æœ€å¤§å¹¶å‘æ•°: 4):
[mor] â„¹ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
        â”‚ æ¨¡å— (å…± 1 ä¸ª, é›†æˆç»ˆæ€: å·²é›†æˆ)                 â”‚ ç‰ˆæœ¬           â”‚ ç±»å‹  â”‚ æ¨¡å¼  â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ alsc-mini-app_king-home-alipay               â”‚ master         â”‚ å®¿ä¸»  â”‚ ç»„åˆ â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
[mor] â„¹ å‡†å¤‡é…ç½®ä¸­, å³å°†å¼€å§‹ç¼–è¯‘ ğŸ‘‡
        é…ç½®åç§°: alipay_plugin
        ç¼–è¯‘ç›®æ ‡: æ”¯ä»˜å®å°ç¨‹åº
        ç¼–è¯‘ç¯å¢ƒ: development
        ç¼–è¯‘ç±»å‹: æ’ä»¶
        ç¼–è¯‘æ¨¡å¼: bundle
        æºç ç±»å‹: alipay
        æºç ç›®å½•: plugin
        ç¼–è¯‘äº§ç‰©: dist/plugin
        è¾“å‡ºç›®å½•: dist
[mor] â„¹ å·²å¼€å¯ç¼“å­˜, å¯é€šè¿‡ --no-cache å…³é—­
[mor] â„¹ å¯åŠ¨æ–‡ä»¶ç›‘å¬æ¨¡å¼
[mor] â„¹ å¼€å§‹ç¼–è¯‘ ...
[mor] â„¹ ä¾èµ–åˆ†æä¸­ ...
[mor] â„¹ ä¾èµ–åˆ†æå®Œæˆ: è€—æ—¶: 12.790667 ms
[mor] â ¼ æ­£åœ¨ç¼–è¯‘, è¿›åº¦: 99.00%
[mor] â„¹ æ¨¡å—é›†æˆç»“æœ:
[mor] â„¹ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
        â”‚ æ¨¡å— (å…± 1 ä¸ª, é›†æˆç»ˆæ€: å·²é›†æˆ)                 â”‚ ç‰ˆæœ¬           â”‚ ç±»å‹  â”‚ æ¨¡å¼  â”‚ ç»“æœ â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
        â”‚ alsc-mini-app_king-home-alipay               â”‚ master         â”‚ å®¿ä¸»  â”‚ ç»„åˆ â”‚  âœ”   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
[mor] âœ” é›†æˆäº§ç‰©ç›®å½•: dist/miniprogram
[mor] âœ” ç¼–è¯‘å®Œæˆ, è€—æ—¶: 1544.04675 ms
```

ç”¨å°ç¨‹åº IDE æ‰“å¼€ dist ç›®å½•å³å¯é¢„è§ˆå°ç¨‹åºæ’ä»¶ã€‚

## å‘½ä»¤è¡Œè¯´æ˜

é™¤äº†é€šè¿‡ [é…ç½®](/guides/basic/config#é›†æˆç›¸å…³é…ç½®) çš„æ–¹å¼æ¥ä½¿ç”¨é›†æˆèƒ½åŠ›ä¹‹å¤–ï¼Œéƒ¨åˆ†åŠŸèƒ½ä¹Ÿå¯ä»¥ç»“åˆå‘½ä»¤è¡Œæ¥ä½¿ç”¨ï¼Œå‘½ä»¤è¡Œçš„ä¼˜å…ˆçº§é«˜äºç”¨æˆ·é…ç½®ï¼Œå…·ä½“å‚è§ä¸‹æ–¹è¯´æ˜ï¼š

```bash
é›†æˆç›¸å…³å‘½ä»¤è¡Œç”¨æ³•:
  $ mor compose æˆ– mor compile --compose

é›†æˆç›¸å…³å‘½ä»¤è¡Œé€‰é¡¹:
  --with-modules <moduleName>     æŒ‡å®šéœ€è¦å‚ä¸é›†æˆçš„æ¨¡å—, åŸºäºæ¨¡å—çš„åç§°ç­›é€‰, æ”¯æŒ glob æ¨¡å¼ï¼Œå¦‚éœ€æŒ‡å®šå¤šä¸ªï¼Œå¯ç”¨é€—å·ï¼ˆ,ï¼‰åˆ†å‰²ï¼Œç¤ºä¾‹ï¼š --with-modules '*eleme-solution,*plugin-entry' æˆ– --with-modules '*eleme-solution,*plugin-entry'
  --without-modules <moduleName>  æ’é™¤ä¸éœ€è¦é›†æˆçš„æ¨¡å—, åŸºäºæ¨¡å—çš„åç§°ç­›é€‰, æ”¯æŒ glob æ¨¡å¼ï¼Œç”¨æ³•å’Œ --with-modules ç±»ä¼¼
  --from-state <state>            æ§åˆ¶æ¨¡å—é›†æˆæ—¶çš„åˆå§‹çŠ¶æ€, å¯é€‰å€¼: 0-6ï¼Œæ¯ä¸ªçŠ¶æ€ç å¯¹åº”çš„å«ä¹‰å‚è§æ–‡æ¡£å†… `é›†æˆçŠ¶æ€` çš„æè¿°
  --to-state <state>              æ§åˆ¶æ¨¡å—é›†æˆæ—¶çš„æœ€ç»ˆçŠ¶æ€, å¯é€‰å€¼: 0-6ï¼Œæ¯ä¸ªçŠ¶æ€ç å¯¹åº”çš„å«ä¹‰å‚è§æ–‡æ¡£å†… `é›†æˆçŠ¶æ€` çš„æè¿°
  --concurrency <number>          æ§åˆ¶æ¨¡å—é›†æˆæ—¶çš„å¹¶å‘æ•°é‡ï¼Œé»˜è®¤ä¼šåŸºäºæœ¬æœº CPU æ ¸æ•°å’Œå†…å­˜ GB æ•°ç”Ÿæˆä¸€ä¸ªå¹¶å‘æ•°é‡
  --combine-modules               åˆå¹¶æ¨¡å—é…ç½®ï¼ˆä¸»è¦ç”¨äºåˆå¹¶åˆ†åŒ…é…ç½®çš„é¡µé¢åˆ°ä¸»åŒ…ä¸­ï¼‰ï¼Œç”¨äºé€‚é…æŠ–éŸ³å°ç¨‹åºçš„æµåŠ è½½
```

## é›†æˆæµç¨‹å®šåˆ¶

`MorJS` æä¾›äº†è‹¥å¹² `Hooks` ç”¨äºæ”¯æŒå·¥ç¨‹æ’ä»¶å®šåˆ¶é›†æˆæµç¨‹ã€‚

æœ‰å…³é›†æˆ `Hooks` å¯å‚è§æ–‡æ¡£ï¼š[å·¥ç¨‹ API - Hooks - é›†æˆ Hooks](/api/engineering-hooks#é›†æˆ-hooks)

å…³äºå¦‚ä½•ç¼–å†™å·¥ç¨‹æ’ä»¶ï¼Œå¯å‚è§æ–‡æ¡£ï¼š[æ’ä»¶ - å¦‚ä½•å¼€å‘æ’ä»¶ - å¼€å‘å·¥ç¨‹æ’ä»¶](/guides/basic/plugin#%E5%BC%80%E5%8F%91%E5%B7%A5%E7%A8%8B%E6%8F%92%E4%BB%B6)
